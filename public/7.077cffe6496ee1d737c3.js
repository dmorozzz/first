(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{qCSe:function(t,e,o){"use strict";o.r(e),o.d(e,"AddpageModule",(function(){return m}));var n=o("ofXK"),r=o("3Pt+"),i=o("tyNb"),a=o("fXoL"),s=o("fhD/");function b(t,e){1&t&&(a.Kb(0,"div",8),a.fc(1," Title is required "),a.Jb())}function c(t,e){1&t&&(a.Kb(0,"div",8),a.fc(1," Text is required "),a.Jb())}function d(t,e){1&t&&(a.Kb(0,"div",8),a.fc(1," Name is required "),a.Jb())}function l(t,e){1&t&&(a.Kb(0,"div",9),a.fc(1," Opps... Something went wrong! Please, try later. "),a.Jb())}const u=function(t){return{"active-btn":t}},f=[{path:"",component:(()=>{class t{constructor(t,e,o){this.fb=t,this.postService=e,this.router=o,this.textareaColumns=1,this.submitted=!1,this.wasError=!1}ngOnInit(){this.addPostForm=this.fb.group({title:["",r.i.required],text:["",r.i.required],author:["",r.i.required]})}onKeyUpEvent(t){let e=Math.floor(t.target.value.length/31);this.textareaColumns=e+1}get form(){return this.addPostForm.controls}onSubmit(){this.submitted=!0,this.postService.createPost(this.addPostForm.value).subscribe(t=>{this.router.navigate(["/post/"+t._id])},t=>{this.wasError=!0})}}return t.\u0275fac=function(e){return new(e||t)(a.Hb(r.b),a.Hb(s.a),a.Hb(i.b))},t.\u0275cmp=a.Bb({type:t,selectors:[["app-addpage"]],decls:16,vars:10,consts:[[1,"content"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Title","formControlName","title"],["class","errors",4,"ngIf"],["cols","31","placeholder","Some of your thoughts","formControlName","text",3,"rows","keyup"],["type","text","placeholder","Your name","formControlName","author"],[3,"ngClass","disabled"],["class","global-error",4,"ngIf"],[1,"errors"],[1,"global-error"]],template:function(t,e){1&t&&(a.Kb(0,"div",0),a.Kb(1,"form",1),a.Rb("ngSubmit",(function(){return e.onSubmit()})),a.Kb(2,"h1"),a.fc(3,"Add Post"),a.Jb(),a.Kb(4,"label"),a.Ib(5,"input",2),a.ec(6,b,2,0,"div",3),a.Jb(),a.Kb(7,"label"),a.Kb(8,"textarea",4),a.Rb("keyup",(function(t){return e.onKeyUpEvent(t)})),a.Jb(),a.ec(9,c,2,0,"div",3),a.Jb(),a.Kb(10,"label"),a.Ib(11,"input",5),a.ec(12,d,2,0,"div",3),a.Jb(),a.Kb(13,"button",6),a.fc(14,"Send"),a.Jb(),a.Jb(),a.ec(15,l,2,0,"div",7),a.Jb()),2&t&&(a.xb(1),a.Wb("formGroup",e.addPostForm),a.xb(5),a.Wb("ngIf",e.form.title.touched&&e.form.title.errors),a.xb(2),a.Xb("rows",e.textareaColumns),a.xb(1),a.Wb("ngIf",e.form.text.touched&&e.form.text.errors),a.xb(3),a.Wb("ngIf",e.form.author.touched&&e.form.author.errors),a.xb(1),a.Wb("ngClass",a.Zb(8,u,e.addPostForm.valid&&!e.submitted))("disabled",e.addPostForm.invalid||e.submitted),a.xb(2),a.Wb("ngIf",e.wasError))},directives:[r.j,r.g,r.d,r.a,r.f,r.c,n.k,n.i],styles:[".content[_ngcontent-%COMP%]{align-items:center}.content[_ngcontent-%COMP%], form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%]{width:300px;padding:10px;border:2px solid #000;background:#fff;box-shadow:0 0 10px rgba(0,0,0,.3)}form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#ff8300;margin-bottom:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #ff8300;font-size:1.2em;outline:none;resize:none}textarea[_ngcontent-%COMP%]{max-height:300px;font-family:Roboto,sans-serif}button[_ngcontent-%COMP%]{cursor:not-allowed;border:none;outline:none;padding:20px;margin-top:10px;font-size:1.2em;box-shadow:0 0 10px rgba(0,0,0,.3);color:grey}label[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px 0}.errors[_ngcontent-%COMP%]{color:red;font-size:.8em}.active-btn[_ngcontent-%COMP%]{background:#ff8300;cursor:pointer;color:#fff}.active-btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px rgba(0,0,0,.99)}.global-error[_ngcontent-%COMP%]{width:300px;text-align:center;background:#ff6a6a;padding:10px;margin-top:20px}"]}),t})()}];let m=(()=>{class t{}return t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({factory:function(e){return new(e||t)},imports:[[n.c,i.d.forChild(f),r.h,r.e]]}),t})()}}]);