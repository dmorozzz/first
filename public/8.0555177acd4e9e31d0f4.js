(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{alx6:function(t,e,o){"use strict";o.r(e),o.d(e,"EditpageModule",(function(){return p}));var n=o("ofXK"),r=o("tyNb"),i=o("3Pt+"),s=o("fXoL"),b=o("fhD/");function a(t,e){1&t&&(s.Kb(0,"div",9),s.fc(1," Title is required "),s.Jb())}function c(t,e){1&t&&(s.Kb(0,"div",9),s.fc(1," Text is required "),s.Jb())}function d(t,e){1&t&&(s.Kb(0,"div",9),s.fc(1," Name is required "),s.Jb())}const u=function(t){return{"active-btn":t}};function f(t,e){if(1&t){const t=s.Lb();s.Kb(0,"form",3),s.Rb("ngSubmit",(function(){return s.bc(t),s.Tb().onSubmit()})),s.Kb(1,"h1"),s.fc(2,"Add Post"),s.Jb(),s.Kb(3,"label"),s.Ib(4,"input",4),s.ec(5,a,2,0,"div",5),s.Jb(),s.Kb(6,"label"),s.Kb(7,"textarea",6),s.Rb("keyup",(function(e){return s.bc(t),s.Tb().onKeyUpEvent(e)})),s.Jb(),s.ec(8,c,2,0,"div",5),s.Jb(),s.Kb(9,"label"),s.Ib(10,"input",7),s.ec(11,d,2,0,"div",5),s.Jb(),s.Kb(12,"button",8),s.fc(13,"Send"),s.Jb(),s.Jb()}if(2&t){const t=s.Tb();s.Wb("formGroup",t.editPostForm),s.xb(5),s.Wb("ngIf",t.form.title.touched&&t.form.title.errors),s.xb(2),s.Xb("rows",t.textareaColumns),s.xb(1),s.Wb("ngIf",t.form.text.touched&&t.form.text.errors),s.xb(3),s.Wb("ngIf",t.form.author.touched&&t.form.author.errors),s.xb(1),s.Wb("ngClass",s.Zb(7,u,t.editPostForm.valid&&!t.submitted))("disabled",t.editPostForm.invalid||t.submitted)}}function l(t,e){1&t&&(s.Kb(0,"div",10),s.fc(1," Opps... Something went wrong! Please, try later. "),s.Jb())}const m=[{path:"",component:(()=>{class t{constructor(t,e,o,n){this.fb=t,this.postService=e,this.router=o,this.route=n,this.textareaColumns=1,this.submitted=!1,this.wasError=!1}ngOnInit(){this.id=this.route.snapshot.params.id,this.postService.getPostById(this.id).subscribe(t=>{this.editPostForm=this.fb.group({title:[t.title,i.i.required],text:[t.text,i.i.required],author:[t.author,i.i.required]})})}onKeyUpEvent(t){let e=Math.floor(t.target.value.length/31);this.textareaColumns=e+1}get form(){return this.editPostForm.controls}onSubmit(){this.submitted=!0,this.postService.updatePostById(this.id,this.editPostForm.value).subscribe(t=>{this.router.navigate(["/post/"+t._id])},t=>{this.wasError=!0})}}return t.\u0275fac=function(e){return new(e||t)(s.Hb(i.b),s.Hb(b.a),s.Hb(r.b),s.Hb(r.a))},t.\u0275cmp=s.Bb({type:t,selectors:[["app-editpage"]],decls:3,vars:2,consts:[[1,"content"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","global-error",4,"ngIf"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Title","formControlName","title"],["class","errors",4,"ngIf"],["cols","31","placeholder","Some of your thoughts","formControlName","text",3,"rows","keyup"],["type","text","placeholder","Your name","formControlName","author"],[3,"ngClass","disabled"],[1,"errors"],[1,"global-error"]],template:function(t,e){1&t&&(s.Kb(0,"div",0),s.ec(1,f,14,9,"form",1),s.ec(2,l,2,0,"div",2),s.Jb()),2&t&&(s.xb(1),s.Wb("ngIf",e.editPostForm),s.xb(1),s.Wb("ngIf",e.wasError))},directives:[n.k,i.j,i.g,i.d,i.a,i.f,i.c,n.i],styles:[".content[_ngcontent-%COMP%]{align-items:center}.content[_ngcontent-%COMP%], form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%]{width:300px;padding:10px;border:2px solid #000;background:#fff;box-shadow:0 0 10px rgba(0,0,0,.3)}form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#ff8300;margin-bottom:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #ff8300;font-size:1.2em;outline:none;resize:none}textarea[_ngcontent-%COMP%]{max-height:300px;font-family:Roboto,sans-serif}button[_ngcontent-%COMP%]{cursor:not-allowed;border:none;outline:none;padding:20px;margin-top:10px;font-size:1.2em;box-shadow:0 0 10px rgba(0,0,0,.3);color:grey}label[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px 0}.errors[_ngcontent-%COMP%]{color:red;font-size:.8em}.active-btn[_ngcontent-%COMP%]{background:#ff8300;cursor:pointer;color:#fff}.active-btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px rgba(0,0,0,.99)}.global-error[_ngcontent-%COMP%]{width:300px;text-align:center;background:#ff6a6a;padding:10px;margin-top:20px}"]}),t})()}];let p=(()=>{class t{}return t.\u0275mod=s.Fb({type:t}),t.\u0275inj=s.Eb({factory:function(e){return new(e||t)},imports:[[n.c,r.d.forChild(m),i.e,i.h]]}),t})()}}]);